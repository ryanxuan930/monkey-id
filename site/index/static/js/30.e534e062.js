"use strict";(self["webpackChunksite"]=self["webpackChunksite"]||[]).push([[30],{8030:function(a,t,l){l.r(t),l.d(t,{default:function(){return F}});var e=l(3396),s=l(9242),n=l(7139),i=l(5427);const o=a=>((0,e.dD)("data-v-93af5d4a"),a=a(),(0,e.Cn)(),a),c={class:"bg-orange-50 h-screen flex flex-col overflow-auto"},u=o((()=>(0,e._)("div",{class:"flex-grow min-h-[1em]"},null,-1))),d={class:"bg-white sm:shadow p-5 w-full h-screen sm:w-2/3 md:w-96 sm:h-fit mx-auto"},r=o((()=>(0,e._)("img",{src:i,alt:"monkey id",class:"inline-block w-full m-auto max-h-24 p-0"},null,-1))),p={class:"round-input-label"},m=o((()=>(0,e._)("div",{class:"title"},"身份",-1))),w=o((()=>(0,e._)("option",{value:"0"},"在校學生",-1))),f=o((()=>(0,e._)("option",{value:"1"},"教職員",-1))),v=o((()=>(0,e._)("option",{value:"2"},"畢業校友",-1))),_=[w,f,v],h={class:"round-input-label"},g=o((()=>(0,e._)("div",{class:"title"},"所屬學校",-1))),b=["value"],k={class:"round-input-label"},y=o((()=>(0,e._)("div",{class:"title"},"常用信箱(帳號)",-1))),x=o((()=>(0,e._)("div",{class:"text-sm text-gray-400 m-1"},"不一定要學校信箱，建議使用常用信箱",-1))),U={key:0,class:"warning-text"},q={key:1,class:"warning-text"},A={class:"round-input-label"},z=o((()=>(0,e._)("div",{class:"title"},"真實姓名",-1))),C=o((()=>(0,e._)("div",{class:"text-sm text-gray-400 m-1"},"請輸入與身份證明文件相同的名字",-1))),D={class:"round-input-label"},Z=o((()=>(0,e._)("div",{class:"title"},"密碼",-1))),E={key:0,class:"warning-text"},L={class:"round-input-label"},V=o((()=>(0,e._)("div",{class:"title"},"確認密碼",-1))),j={key:0,class:"warning-text"},H={class:"text-sm text-gray-500"},P=o((()=>(0,e._)("hr",{class:"my-3"},null,-1))),Y={class:"text-lg text-gray-500"},$=o((()=>(0,e._)("div",{class:"flex-grow min-h-[2em]"},null,-1)));function G(a,t,l,i,o,w){const f=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",c,[u,(0,e._)("div",d,[r,(0,e._)("label",p,[m,(0,e.wy)((0,e._)("select",{class:"select","onUpdate:modelValue":t[0]||(t[0]=t=>a.data.identity=t)},_,512),[[s.bM,a.data.identity]])]),(0,e._)("label",h,[g,(0,e.wy)((0,e._)("select",{class:"select","onUpdate:modelValue":t[1]||(t[1]=t=>a.data.univ_id=t)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.univList,((a,t)=>((0,e.wg)(),(0,e.iD)("option",{key:t,value:a.univ_id},(0,n.zw)(a.univ_id)+" - "+(0,n.zw)(a.univ_name_ch_full),9,b)))),128))],512),[[s.bM,a.data.univ_id]])]),(0,e._)("label",k,[y,x,(0,e.wy)((0,e._)("input",{type:"email",class:"input",placeholder:"abc@xyz.com","onUpdate:modelValue":t[2]||(t[2]=t=>a.data.account=t),onBlur:t[3]||(t[3]=(...t)=>a.checkExists&&a.checkExists(...t))},null,544),[[s.nr,a.data.account]]),0==a.errorList.account.unique&&a.data.account.length>0?((0,e.wg)(),(0,e.iD)("div",U,"Email已被註冊")):(0,e.kq)("",!0),0==a.errorList.account.format&&a.data.account.length>0?((0,e.wg)(),(0,e.iD)("div",q,"Email格式不正確")):(0,e.kq)("",!0)]),(0,e._)("label",A,[z,C,(0,e.wy)((0,e._)("input",{type:"text",class:"input",placeholder:"你的名字","onUpdate:modelValue":t[4]||(t[4]=t=>a.data.name=t)},null,512),[[s.nr,a.data.name]])]),(0,e._)("label",D,[Z,(0,e.wy)((0,e._)("input",{type:"password",class:"input",placeholder:"・・・・・・・・","onUpdate:modelValue":t[5]||(t[5]=t=>a.data.password=t)},null,512),[[s.nr,a.data.password]]),0==a.errorList.password.format&&a.data.password.length>0?((0,e.wg)(),(0,e.iD)("div",E,"密碼須包含大寫、小寫字母與數字，並有8個字元以上")):(0,e.kq)("",!0)]),(0,e._)("label",L,[V,(0,e.wy)((0,e._)("input",{type:"password",class:"input",placeholder:"・・・・・・・・","onUpdate:modelValue":t[6]||(t[6]=t=>a.passwordConfirm=t)},null,512),[[s.nr,a.passwordConfirm]]),0==a.errorList.password.match&&a.passwordConfirm.length>0?((0,e.wg)(),(0,e.iD)("div",j,"兩次密碼不相同")):(0,e.kq)("",!0)]),(0,e._)("button",{class:"round-full-button",onClick:t[7]||(t[7]=(...t)=>a.submitAll&&a.submitAll(...t))},"註冊"),(0,e._)("div",H,[(0,e.Uk)("當您點下註冊，代表您已同意我們的"),(0,e.Wm)(f,{class:"hyperlink",target:"_blank",to:"/privacy"},{default:(0,e.w5)((()=>[(0,e.Uk)("隱私權條款")])),_:1})]),P,(0,e._)("div",Y,[(0,e.Uk)("已經有帳號了？"),(0,e.Wm)(f,{to:"/login",class:"hyperlink"},{default:(0,e.w5)((()=>[(0,e.Uk)("點我登入")])),_:1}),(0,e.Uk)("吧！")])]),$])}l(7658);var M=l(4870),O=l(2483),W=l(6895),B=(0,e.aZ)({setup(){const a=new W.Z,t=(0,O.tv)(),l=(0,M.iH)([]);function s(){a.Get("univ-list",l)}s();const n=(0,M.qj)({identity:0,account:"",univ_id:"U0009",name:"",password:""}),i=(0,M.iH)(""),o=(0,M.qj)({account:{filled:!1,format:!1,unique:!0},name:{filled:!1},password:{filled:!1,match:!1,format:!1}});function c(){n.account.length>0?a.Get(`auth/user/exist/${n.account}`).then((a=>{o.account.unique=!a.message})):o.account.unique=!0}function u(){c();let l=!0;Object.values(o).forEach((a=>(Object.values(a).forEach((a=>!!a||(l=!1,!1))),!!l))),l&&a.Post("auth/user/register",n).then((a=>{"A01"===a.status&&t.push("/login/done")}))}return(0,e.YP)(n,(()=>{o.account.filled=n.account.length>0,o.account.format=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(n.account)||0===n.account.length,o.name.filled=n.name.length>0,o.password.filled=n.password.length>0,o.password.format=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(n.password)||0===n.password.length,o.password.match=n.password===i.value})),(0,e.YP)(i,(()=>{o.password.match=n.password===i.value})),{univList:l,data:n,passwordConfirm:i,errorList:o,submitAll:u,checkExists:c}}}),I=l(89);const K=(0,I.Z)(B,[["render",G],["__scopeId","data-v-93af5d4a"]]);var F=K},5427:function(a,t,l){a.exports=l.p+"static/img/monkey_id.3fb88f2f.svg"}}]);
//# sourceMappingURL=30.e534e062.js.map