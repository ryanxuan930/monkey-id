"use strict";(self["webpackChunksite"]=self["webpackChunksite"]||[]).push([[639],{8639:function(a,t,e){e.r(t),e.d(t,{default:function(){return F}});var l=e(3396),s=e(9242),n=e(7139),i=e(5427);const o=a=>((0,l.dD)("data-v-517c240e"),a=a(),(0,l.Cn)(),a),c={class:"bg-orange-50 h-screen flex flex-col overflow-auto"},u=o((()=>(0,l._)("div",{class:"flex-grow min-h-[1em]"},null,-1))),d={class:"bg-white sm:shadow p-5 w-full h-screen sm:w-2/3 md:w-96 sm:h-fit mx-auto"},r=o((()=>(0,l._)("img",{src:i,alt:"monkey id",class:"inline-block w-full m-auto max-h-24 p-0"},null,-1))),p={class:"round-input-label"},m=o((()=>(0,l._)("div",{class:"title"},"身份",-1))),w=o((()=>(0,l._)("option",{value:"0"},"在校學生",-1))),v=o((()=>(0,l._)("option",{value:"1"},"教職員",-1))),_=o((()=>(0,l._)("option",{value:"2"},"畢業校友",-1))),h=[w,v,_],f={class:"round-input-label"},g=o((()=>(0,l._)("div",{class:"title"},"所屬學校",-1))),b=["value"],y={class:"round-input-label"},k=o((()=>(0,l._)("div",{class:"title"},"常用信箱(帳號)",-1))),x=o((()=>(0,l._)("div",{class:"text-sm text-gray-400 m-1"},"不一定要學校信箱，建議使用常用信箱",-1))),U={key:0,class:"warning-text"},q={key:1,class:"warning-text"},A={class:"round-input-label"},z=o((()=>(0,l._)("div",{class:"title"},"真實姓名",-1))),C=o((()=>(0,l._)("div",{class:"text-sm text-gray-400 m-1"},"請輸入與身份證明文件相同的名字",-1))),D={class:"round-input-label"},Z=o((()=>(0,l._)("div",{class:"title"},"密碼",-1))),E={key:0,class:"warning-text"},L={class:"round-input-label"},V=o((()=>(0,l._)("div",{class:"title"},"確認密碼",-1))),j={key:0,class:"warning-text"},H=o((()=>(0,l._)("div",{class:"text-sm text-gray-500"},[(0,l.Uk)("當您點下註冊，代表您已同意我們的"),(0,l._)("a",{class:"hyperlink"},"隱私權條款")],-1))),P=o((()=>(0,l._)("hr",{class:"my-3"},null,-1))),Y={class:"text-lg text-gray-500"},$=o((()=>(0,l._)("div",{class:"flex-grow min-h-[2em]"},null,-1)));function G(a,t,e,i,o,w){const v=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",c,[u,(0,l._)("div",d,[r,(0,l._)("label",p,[m,(0,l.wy)((0,l._)("select",{class:"select","onUpdate:modelValue":t[0]||(t[0]=t=>a.data.identity=t)},h,512),[[s.bM,a.data.identity]])]),(0,l._)("label",f,[g,(0,l.wy)((0,l._)("select",{class:"select","onUpdate:modelValue":t[1]||(t[1]=t=>a.data.univ_id=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.univList,((a,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:a.univ_id},(0,n.zw)(a.univ_id)+" - "+(0,n.zw)(a.univ_name_ch_full),9,b)))),128))],512),[[s.bM,a.data.univ_id]])]),(0,l._)("label",y,[k,x,(0,l.wy)((0,l._)("input",{type:"email",class:"input",placeholder:"abc@xyz.com","onUpdate:modelValue":t[2]||(t[2]=t=>a.data.account=t),onBlur:t[3]||(t[3]=(...t)=>a.checkExists&&a.checkExists(...t))},null,544),[[s.nr,a.data.account]]),0==a.errorList.account.unique&&a.data.account.length>0?((0,l.wg)(),(0,l.iD)("div",U,"Email已被註冊")):(0,l.kq)("",!0),0==a.errorList.account.format&&a.data.account.length>0?((0,l.wg)(),(0,l.iD)("div",q,"Email格式不正確")):(0,l.kq)("",!0)]),(0,l._)("label",A,[z,C,(0,l.wy)((0,l._)("input",{type:"text",class:"input",placeholder:"你的名字","onUpdate:modelValue":t[4]||(t[4]=t=>a.data.name=t)},null,512),[[s.nr,a.data.name]])]),(0,l._)("label",D,[Z,(0,l.wy)((0,l._)("input",{type:"password",class:"input",placeholder:"・・・・・・・・","onUpdate:modelValue":t[5]||(t[5]=t=>a.data.password=t)},null,512),[[s.nr,a.data.password]]),0==a.errorList.password.format&&a.data.password.length>0?((0,l.wg)(),(0,l.iD)("div",E,"密碼須包含大寫、小寫字母與數字，並有8個字元以上")):(0,l.kq)("",!0)]),(0,l._)("label",L,[V,(0,l.wy)((0,l._)("input",{type:"password",class:"input",placeholder:"・・・・・・・・","onUpdate:modelValue":t[6]||(t[6]=t=>a.passwordConfirm=t)},null,512),[[s.nr,a.passwordConfirm]]),0==a.errorList.password.match&&a.passwordConfirm.length>0?((0,l.wg)(),(0,l.iD)("div",j,"兩次密碼不相同")):(0,l.kq)("",!0)]),(0,l._)("button",{class:"round-full-button",onClick:t[7]||(t[7]=(...t)=>a.submitAll&&a.submitAll(...t))},"註冊"),H,P,(0,l._)("div",Y,[(0,l.Uk)("已經有帳號了？"),(0,l.Wm)(v,{to:"/login",class:"hyperlink"},{default:(0,l.w5)((()=>[(0,l.Uk)("點我登入")])),_:1}),(0,l.Uk)("吧！")])]),$])}e(7658);var M=e(4870),O=e(2483),B=e(6895),I=(0,l.aZ)({setup(){const a=new B.Z,t=(0,M.iH)([]);function e(){a.Get("univ-list",t)}e();const s=(0,M.qj)({identity:0,account:"",univ_id:"U0009",name:"",password:""}),n=(0,M.iH)(""),i=(0,M.qj)({account:{filled:!1,format:!1,unique:!0},name:{filled:!1},password:{filled:!1,match:!1,format:!1}});function o(){s.account.length>0?a.Get(`auth/user/exist/${s.account}`).then((a=>{i.account.unique=!a.message})):i.account.unique=!0}function c(){o();let t=!0;Object.values(i).forEach((a=>(Object.values(a).forEach((a=>!!a||(t=!1,!1))),!!t))),t&&a.Post("auth/user/register",s).then((a=>{"A01"===a.status&&(0,O.tv)().push("/login/done")}))}return(0,l.YP)(s,(()=>{i.account.filled=s.account.length>0,i.account.format=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(s.account)||0===s.account.length,i.name.filled=s.name.length>0,i.password.filled=s.password.length>0,i.password.format=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(s.password)||0===s.password.length,i.password.match=s.password===n.value})),(0,l.YP)(n,(()=>{i.password.match=s.password===n.value})),{univList:t,data:s,passwordConfirm:n,errorList:i,submitAll:c,checkExists:o}}}),K=e(89);const W=(0,K.Z)(I,[["render",G],["__scopeId","data-v-517c240e"]]);var F=W},5427:function(a,t,e){a.exports=e.p+"static/img/monkey_id.3fb88f2f.svg"}}]);
//# sourceMappingURL=639.d6aaa616.js.map